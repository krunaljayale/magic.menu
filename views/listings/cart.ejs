<%- layout("/layouts/boilerplate.ejs") %>
<%- include("../includes/navbar.ejs") %>
<%- include("../includes/flash.ejs") %>
<head>
    <title>Cart</title>
    <link rel="stylesheet" href="/css/cartPage.css">
</head>


<h5 class="cart-title"> Items in Cart <i class="fa-solid fa-cart-shopping"></i></h5>

<% if(!items.length){ %>
    <div class="row  row-col-sm-1 row-col-1 mt-3 " style= "width:99vw; justify-content:center;margin: 0;">
        <div class="card mt-3 " style="width: 19rem; border: none;">
            <img src="/images/orders.jpg" class="card-img-top" alt="No order image">
            <div class="card-body">
            <h5 class="card-title text-info"> <b> Oops! Cart is Empty</b></h5>
            <p class="card-text text-info"><i>You didn't have any item in your Cart!</i> </p>
            <!-- <a href="/home" class="btn btn-outline-info">Explore Menu</a> -->
            </div>
        </div>
    </div>
<% } %>

<div class="master-div">

<% for(item of items){ %>
    <% if(sessionId === item.customerId){ %>
        
        <div class="cart-card">


            <div class="img-div">
                <img src="<%= item.image.url %>" alt="" class="cart-card-img">
            </div>

            <div class="content-div">

                <div class="name-price-div">

                    <div class="item-name-div">
                        <p class="card-text item-name"><%= item.name %></p>
                    </div>

                    <div class="item-price-div">
                        <p class="card-text item">&#8377; <%= item.price.toLocaleString("en-IN") %></p>
                    </div>

                </div >
                
                <div class="buttons-div">
                    <input class="form-control  order-input"  type="number" name="qty" value="1" min="1">
                    <a href="/cart/<%= item._id %>/remove" class="btn cart-remove-btn">Remove</a>
                </div>
            </div>

        </div>

    <% } %>
    
<% } %>
</div>